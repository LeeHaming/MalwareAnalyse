#encoding:utf-8
"""
MalwareAnalyse\getAPKs
written by leeham
在处理恶意APK和良性APK集合时，路径和apk名称稍作修改
"""
import os

path="../APK/"
#path="../APK/benign/"
j=0
for dir in os.walk(path):
	if(dir[0].find("malware")>=0):
		for filename in dir[2]:
			if os.path.splitext(filename)[-1]=='.apk':
				print('find apk:',filename)
				newname='m'+str(j)+".apk"
				print(newname)
				os.rename(os.path.join(dir[0],filename),os.path.join(dir[0],newname))
				print("old:"+filename+" new:"+newname)
				j+=1
'''
files=os.listdir(path)
i=0
for file in files:
	i+=1
	if file.endswith(".apk"):
		print(file)
		newname="m"+str(i)+".apk"
		#newname="b"+str(i)+".apk"
		#print(newname)
		os.rename(file,newname)
		print("old:"+file+" new:"+newname)
'''