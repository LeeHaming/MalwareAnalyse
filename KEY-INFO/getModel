#将信息按照训练模型的输入格式整理
过程中一定要注意列对应
columns=[]
for i in range(343):
	columns.append(str(i))
columns.append('result')

opd=pd.DataFrame(apkInfo,index=apkName,columns=columns)
print(opd)
opd=opd.reset_index(drop=True)
print(opd)
opd.to_csv('E:\MalwareAnalyse\smalis-opcode\opcode3grams-vector\opcodetrain.csv',encoding='utf-8',index=False)


#从csv格式文件中读取数据，并训练模型
trainSet=pd.read_csv('E:\MalwareAnalyse\smalis-opcode\opcode3grams-vector\opcodetrain.csv')
labels=trainSet.result

trainSet.drop("result",axis=1,inplace=True)
trainSet=trainSet.as_matrix()

X_train,X_test,y_train,y_test=cross_validation.train_test_split(
	trainSet,labels,test_size=0.4)

clf=svm.SVC(kernel='linear',C=1).fit(X_train,y_train)
print(clf.score(X_test,y_test))


