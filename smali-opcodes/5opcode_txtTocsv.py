#coding:utf-8
#txtTocsv
import pandas as pd 

opd=pd.DataFrame()

fd=open("E:\MalwareAnalyse\smalis-opcode\opcode3grams-vector\sampleOpFeature.txt")
lines=fd.readlines()

apkInfo=[]
apkName=[]
oneApkInfo=[]

for line in lines:
	content=[]
	if line.startswith('b'):
		Class=0
	else:Class=1

	Id=line.split()[0]
	#Feature=line.split()[1]
	oneApkInfo=[]
	for i in range(1,344):
		oneApkInfo.append(line.split()[i])
	oneApkInfo.append(Class)
	#content.append(Id)
	#content.append(Feature)
	#content.append(Class)
	#apkInfo.append([Feature,Class])
	apkName.append(Id)
	#apkInfo[oneApkInfo]=Class
	#content=pd.DataFrame([Id,Feature,Class],columns=list('ifr'))
	#print(content)
	#opd.append(content)
	apkInfo.append(oneApkInfo)
columns=[]
for i in range(343):
	columns.append(str(i))
columns.append('result')

opd=pd.DataFrame(apkInfo,index=apkName,columns=columns)
print(opd)
opd=opd.reset_index(drop=True)
print(opd)
opd.to_csv('E:\MalwareAnalyse\smalis-opcode\opcode3grams-vector\opcodetrain.csv',encoding='utf-8',index=False)
